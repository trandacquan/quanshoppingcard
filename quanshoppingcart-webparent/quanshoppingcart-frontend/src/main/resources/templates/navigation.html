<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<body>

	<div th:fragment="header_menu">
		<nav class="navbar navbar-expand-lg bg-light navbar-light">
			<a class="navbar-brand p-2" th:href="@{/}">
				<img th:src="@{/images/com-logo.png}" width="150px" />
			</a>

			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topNavbar, #searchNavbar">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="topNavbar">
				<ul class="navbar-nav mr-auto">

					<th:block sec:authorize="!isAuthenticated()">
						<!-- customer chưa login mới thấy được các items này -->
						<li class="nav-item">
							<a class="nav-link" th:href="@{/login}">Login</a>
						</li>

						<li class="nav-item">
							<a class="nav-link" th:href="@{/register}">Register</a>
						</li>
					</th:block>

					<li class="nav-item">
						<a class="nav-link" th:href="@{/orders}">Orders</a>
					</li>

					<li class="nav-item">
						<a class="nav-link fas fa-shopping-cart fa-2x" th:href="@{/cart}"></a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="">Contact</a>
					</li>

					<th:block sec:authorize="isAuthenticated()">
						<form th:action="@{/logout}" method="post" th:hidden="true" name="logoutForm">
							<input type="submit" value="Logout" />
						</form>
					</th:block>

					<th:block sec:authorize="isAuthenticated()">
						<li class="nav-item">
							<a class="nav-link" th:href="@{/account_details}"
								sec:authentication="principal.fullName"></a>
						</li>

						<li class="nav-item">
							<a class="nav-link"
								href="javascript: document.logoutForm.submit()">Logout</a><!-- thay vì viết script thì có thể viết trực tiếp ở đây -->
						</li>
					</th:block>

				</ul>
			</div>
		</nav>
	</div>

	<div th:fragment="search_nav" class="row">
		<div class="col-md">

			<nav class="navbar navbar-expand-sm bg-light">
				<div class="collapse navbar-collapse" id="searchNavbar">
					<form class="form-inline" th:action="@{/search}" method="get">
						<input type="search" name="keyword" class="form-control mr-sm-2" th:value="${searchKeyword}"
							placeholder="keyword" required />
						<input type="submit" value="Search" class="btn btn-primary" />
					</form>
				</div>
			</nav>
		</div>
	</div>

	<div th:fragment="footer_menu">
		<div>
			<nav class="navbar navbar-expand-lg bg-light navbar-light">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bottomNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse text-center" id="bottomNavbar">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" href="">About Us</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="">Privacy Notice</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="">Returns &amp; Refunds</a>
						</li>
					</ul>
				</div>

				<div class="row">
					<div class="col-md-12 py-5">
						<div class="mb-5 flex-center">
							<!-- Facebook -->
							<a class="fb-ic">
								<i class="fab fa-facebook-f fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
							</a>
							<!-- Twitter -->
							<a class="tw-ic">
								<i class="fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
							</a>
							<!-- Google +-->
							<a class="gplus-ic">
								<i class="fab fa-google-plus-g fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
							</a>
							<!--Linkedin -->
							<a class="li-ic">
								<i class="fab fa-linkedin-in fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
							</a>
							<!--Instagram-->
							<a class="ins-ic">
								<i class="fab fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x"> </i>
							</a>
							<!--Pinterest-->
							<a class="pin-ic">
								<i class="fab fa-pinterest fa-lg white-text fa-2x"> </i>
							</a>
						</div>
					</div>
				</div>
			</nav>
		</div>

		<div th:fragment="footer" class="text-center m-3">
			<p>Shopping Cart Control Panel - Copyright &copy; ShoppingCart</p>
		</div>
	</div>

</body>

</html>